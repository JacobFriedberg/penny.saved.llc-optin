<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Penny Saved LLC – SMS Opt-In Consent</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2em;
      max-width: 720px;
      margin: auto;
      background-color: #f9f9f9;
    }
    h1 {
      color: #1a3a5f;
    }
    .form-group {
      margin-top: 1.5em;
    }
    label {
      display: block;
      margin-bottom: 0.5em;
      font-size: 16px;
    }
    input[type="tel"] {
      padding: 0.5em;
      font-size: 16px;
      width: 100%;
      max-width: 300px;
    }
    button {
      margin-top: 1.5em;
      padding: 0.8em 1.2em;
      font-size: 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:disabled {
      background-color: #ccc;
    }
    .confirmation {
      display: none;
      margin-top: 2em;
      color: green;
      font-size: 16px;
    }
    a {
      color: #1a3a5f;
    }
    .disclosure {
      font-size: 15px;
      margin-top: 1.5em;
    }
  </style>
</head>
<body>
  <h1>Penny Saved LLC – SMS Opt-In Consent</h1>

  <p class="disclosure">
    By submitting this form, you consent to receive recurring text messages from Penny Saved LLC regarding your account and investing activity. Message frequency may vary. Message and data rates may apply. Text STOP to unsubscribe at any time.
  </p>

  <form id="optin-form" action="#" method="POST">
    <div class="form-group">
      <label for="phone">Phone Number:</label>
      <input type="tel" id="phone" name="phone" placeholder="+1 (555) 555-5555" required pattern="^\+?\d{10,15}$">
    </div>

    <div class="form-group">
      <label>
        <input type="checkbox" id="consentCheckbox" required>
        I agree to receive recurring SMS messages from Penny Saved LLC. Message frequency may vary. Message and data rates may apply. Reply STOP to unsubscribe.
      </label>
    </div>

    <p>Read our <a href="https://jacobfriedberg.github.io/pennysaved-privacypolicy-terms-conditions" target="_blank">Privacy Policy & Terms</a>.</p>

    <button type="submit" id="submitBtn" disabled>I Agree</button>

    <p id="confirmationMessage" class="confirmation">
      ✅ Consent recorded for <span id="confirmedPhone"></span> at <span id="confirmedTime"></span>.
    </p>

    <p id="timestamp" style="font-size: 0.9em; color: #666; margin-top: 2em;"></p>
  </form>

  <script>
    const checkbox = document.getElementById('consentCheckbox');
    const phoneInput = document.getElementById('phone');
    const button = document.getElementById('submitBtn');
    const confirmation = document.getElementById('confirmationMessage');
    const confirmedPhone = document.getElementById('confirmedPhone');
    const confirmedTime = document.getElementById('confirmedTime');
    const timestamp = document.getElementById('timestamp');

    function validateForm() {
      button.disabled = !(checkbox.checked && phoneInput.value.trim() !== '');
    }

    checkbox.addEventListener('change', validateForm);
    phoneInput.addEventListener('input', validateForm);

    document.getElementById('optin-form').addEventListener('submit', function(event) {
      event.preventDefault();
      const phone = phoneInput.value;
      const now = new Date().toLocaleString();
      confirmedPhone.textContent = phone;
      confirmedTime.textContent = now;
      confirmation.style.display = 'block';
      timestamp.textContent = "Consent recorded on: " + now;
    });
  </script>
</body>
</html>
